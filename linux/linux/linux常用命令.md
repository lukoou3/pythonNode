Linux命令格式:
```shell
    command  [-options]  [parameter1]  …
```
说明：  
* command: 命令名,相应功能的英文单词或单词的缩写 [-options]：选项,可用来对命令进行控制，也可以省略，[]代表可选 parameter1 …：传给命令的参数：可以是零个一个或多个

## 帮助命令
#### 1、man 获得帮助信息
基本语法:
```shell
man [命令或配置文件]
```
查看 ls 命令的帮助信息
```
[root@hadoop101 ~]# man ls
```

#### 2、help 获得 shell 内置命令的帮助信息
基本语法:
```
help 命令
```

#### 3、history 查看已经执行过历史命令
基本语法:
```
history
```

#### 4、常用快捷键
| 常用快捷键    | 功能                         |
| ------------- | ---------------------------- |
| ctrl + c      | 停止进程                     |
| ctrl+l        | 清屏;彻底清屏是:reset        |
| ctrl + q      | 退出                         |
| 善于用 tab 键 | 提示(更重要的是可以防止敲错) |
| 上下键        | 查找执行过的命令             |
| ctrl +alt     | linux 和 Windows 之间切换    |


## 文件目录类
#### 1、pwd 显示当前工作目录的绝对路径
pwd:print working directory 打印工作目录  
基本语法:
```
pwd
```

#### 2、ls 列出目录的内容
ls:list 列出目录内容，它类似于DOS下的dir命令。  
基本语法:
```
ls [选项] [目录或是文件]
```

ls常用参数：  
| 参数 | 含义                                         |
| ---- | -------------------------------------------- |
| -a   | 显示指定目录下所有子目录与文件，包括隐藏文件 |
| -l   | 以列表方式显示文件的详细信息                 |
| -h   | 配合 -l 以人性化的方式显示文件大小           |

显示说明:
每行列出的信息依次是: 文件类型与权限 链接数 文件属主 文件属组 文件大小用byte来表示 建立或最近修改的时间 名字    
![01-linux基础-31](/assets/01-linux基础-31.png)

与DOS下的文件操作类似，在Unix/Linux系统中，也同样允许使用特殊字符来同时引用多个文件名，这些特殊字符被称为通配符。  
| 通配符    | 含义                                                                                                                 |
| --------- | -------------------------------------------------------------------------------------------------------------------- |
| *         | 文件代表文件名中所有字符                                                                                             |
| ls te*    | 查找以te开头的文件                                                                                                   |
| ls *html  | 查找结尾为html的文件                                                                                                 |
| ？        | 代表文件名中任意一个字符                                                                                             |
| ls ?.c    | 只找第一个字符任意，后缀为.c的文件                                                                                   |
| ls a.?    | 只找只有3个字符，前2字符为a.，最后一个字符任意的文件                                                                 |
| []        | [”和“]”将字符组括起来，表示可以匹配字符组中的任意一个。“-”用于表示字符范围。                                         |
| [abc]     | 匹配a、b、c中的任意一个                                                                                              |
| [a-f]     | 匹配从a到f范围内的的任意一个字符                                                                                     |
| ls [a-f]* | 找到从a到f范围内的的任意一个字符开头的文件                                                                           |
| ls a-f    | 查找文件名为a-f的文件,当“-”处于方括号之外失去通配符的作用                                                            |
| \         | 如果要使通配符作为普通字符使用，可以在其前面加上转义字符。“?”和“*”处于方括号内时不用使用转义字符就失去通配符的作用。 |
| ls \*a    | 查找文件名为*a的文件                                                                                                 |

#### 3、cd 切换目录
cd:Change Directory 切换路径   
基本语法:
```
cd [参数]
```
参数说明

| 参数        | 功能                                |
| ----------- | ----------------------------------- |
| cd 绝对路径 | 切换路径                            |
| cd 相对路径 | 切换路径                            |
| cd ~或者 cd | 回到自己的家目录                    |
| cd -        | 回到上一次所在目录                  |
| cd ..       | 回到当前目录的上一级目录            |
| cd -P       | 跳转到实际物理路径,而非快捷方式路径 |

#### 4、mkdir 创建一个新的目录
mkdir:Make directory 建立目录  
基本语法:  
```
mkdir [-p] 要创建的目录  
```
选项:  
-p:创建多层目录

#### 5、mdir 删除一个空的目录
rmdir:Remove directory 删除目录
基本语法:  
```
rmdir 要删除的空目录  
```

#### 6、touch 创建空文件
基本语法:  
```
touch 文件名称
```

#### 7、cp 复制文件或目录
基本语法:  
```
cp [-r] source dest 
```
#### 8、rm 移除文件或目录
基本语法:  
```
rm [-rf] deleteFile
```
常用参数:  
| 参数 | 含义                                             |
| ---- | ------------------------------------------------ |
| -i   | 以进行交互式方式执行                             |
| -f   | 强制删除，忽略不存在的文件，无需提示             |
| -r   | 递归地删除目录下的内容，删除文件夹时必须加此参数 |
| -v   | 显示指令的详细执行过程                           |

#### 9、mv 移动文件与目录或重命名
基本语法:  
```
mv oldNameFile newNameFile (功能描述:重命名)
mv /temp/movefile /targetFolder (功能描述:移动文件)
```

常用参数:  
| 选项 | 含义                                                                                                         |
| ---- | ------------------------------------------------------------------------------------------------------------ |
| -f   | 禁止交互式操作，如有覆盖也不会给出提示                                                                       |
| -i   | 确认交互方式操作，如果mv操作将导致对已存在的目标文件的覆盖，系统会询问是否重写，要求用户回答以避免误覆盖文件 |
| -v   | 显示移动进度                                                                                                 |

#### 11、more 文件内容分屏查看器
more 指令是一个基于 VI 编辑器的文本过滤器,它以全屏幕的方式按页显示文本文件的内容。more 指令中内置了若干快捷键,详见操作说明。    
基本语法:  
```
more 要查看的文件
```
选项:  
| 选项           | 含义                                  |
| -------------- | ------------------------------------- |
| 空白键 (space) | 代表向下翻一页                        |
| Enter          | 代表向下翻『一行』                    |
| q              | 代表立刻离开 more ,不再显示该文件内容 |
| Ctrl+F         | 向下滚动一屏                          |
| Ctrl+B         | 返回上一屏                            |
| =              | 输出当前行的行号                      |
| :f             | 输出文件名和当前行的行号              |

#### 12、less 分屏显示文件内容
ess 指令用来分屏查看文件内容,它的功能与 more 指令类似,不同的是 less 允许使用 `[pageup]` `[pagedown]` 往回滚动。less 指令在显示文件内容时,并不是一次将整个文件加载之后才显示,而是根据显示需要加载内容,对于显示大型文件具有较高的效率。    
基本语法:  
```
less 要查看的文件
```
| 选项       | 含义                                          |
| ---------- | --------------------------------------------- |
| 空白键     | 向下翻动一页;                                 |
| [pagedown] | 向下翻动一页                                  |
| [pageup]   | 向上翻动一页;                                 |
| /字串      | 向下搜寻『字串』的功能;n:向下查找;N:向上查找; |
| ?字串      | 向上搜寻『字串』的功能;n:向上查找;N:向下查找; |
| q 离开     | less 这个程序;                                |

用SecureCRT时[pagedown]和[pageup]可能会出现无法识别的问题。

#### 13、head 显示文件头部内容
head 用于显示文件的开头部分内容,默认情况下 head 指令显示文件的前 10 行内容。    
基本语法:  
```
head 文件 (功能描述:查看文件头10行内容)
head -n 5 文件 (功能描述:查看文件头5行内容,5可以是任意行数)
```
选项:  
-n <行数>:指定显示头部内容的行数

#### 14、tail 输出文件尾部内容
tail 用于输出文件中尾部的内容,默认情况下 tail 指令显示文件的前 10 行内容。    
基本语法:  
```
tail 文件 (功能描述:查看文件头10行内容)
tail -n 5 文件 (功能描述:查看文件头5行内容,5可以是任意行数)
tail -f 文件 (功能描述:实时追踪该文档的所有更新)
```
选项:  
-n <行数>:指定显示头部内容的行数  
-f:显示文件最新追加的内容,监视文件变化  

#### 15、echo 输出变量或内容到控制台    
基本语法:  
```
echo 要显示的内容 >> 存储内容的的文件     (功能描述:将要显示的内容,存储到文件中)
echo 变量         (功能描述:显示变量的值)
```
选项:  
-e:支持反斜线控制的字符转换 
```
\\      输出\本身
\n      换行符
\t      制表符,也就是 Tab 键
```

#### 16、> 输出重定向和 >> 追加
tail 用于输出文件中尾部的内容,默认情况下 tail 指令显示文件的前 10 行内容。    
基本语法:  
```
ls -l >文件 (功能描述:列表的内容写入文件 a.txt 中(覆盖写))
ls -al >>文件 (功能描述:列表的内容追加到文件 aa.txt 的末尾)
cat 文件 1 > 文件 2 (功能描述:将文件 1 的内容覆盖到文件 2)
echo “内容” >> 文件
```

#### 17、ln 建立链接文件  
Linux链接文件类似于Windows下的快捷方式。
基本语法:  
```
ln [–s] [原文件] [目标文件]        (功能描述:显示变量的值)
```
链接文件分为软链接和硬链接。
软链接：软链接不占用磁盘空间，源文件删除则软链接失效。
硬链接：硬链接只能链接普通文件，不能链接目录。  
如果没有-s选项代表建立一个硬链接文件，两个文件占用相同大小的硬盘空间，即使删除了源文件，链接文件还是存在，所以-s选项是更常见的形式。  
注意：如果软链接文件和源文件不在同一个目录，源文件要使用绝对路径，不能使用相对路径。

## 压缩和解压类
#### 1、gzip/gunzip 压缩
基本语法:
```
gzip 文件     (功能描述:压缩文件,只能将文件压缩为*.gz 文件)
gunzip 文件.gz    (功能描述:解压缩文件命令)
```
特点:  
(1)只能压缩文件不能压缩目录  
(2)不保留原来的文件

#### 2、tar 打包
基本语法:
```
tar [选项] XXX.tar.gz 将要打包进去的内容        (功能描述:打包目录,压缩后的文件格式.tar.gz)
```
选项:   
| 选项 | 功能               |
| ---- | ------------------ |
| -c   | 产生.tar 打包文件  |
| -v   | 显示详细信息       |
| -f   | 指定压缩后的文件名 |
| -z   | 打包同时压缩       |
| -x   | 解包.tar文件       |

例子：
```
(1)压缩多个文件
[root@hadoop101 opt]# tar -zcvf houma.tar.gz houge.txt bailongma.txt
(2)压缩目录
[root@hadoop101 ~]# tar -zcvf xiyou.tar.gz xiyou/
(3)解压到当前目录
[root@hadoop101 ~]# tar -zxvf houma.tar.gz
(4)解压到指定目录
[root@hadoop101 ~]# tar -zxvf xiyou.tar.gz -C /opt
```

#### 3、zip/unzip 压缩
基本语法:
```
zip/unzip [选项] XXX.zip      (功能描述:解压缩文件)
```
zip 选项：
-r ：递归压缩目录 

unzip选项：
-d <目录> ：指定解压后文件的存放目录 

```
通过zip压缩文件的目标文件不需要指定扩展名，默认扩展名为zip。
压缩文件：zip [-r] 目标文件(没有扩展名) 源文件
解压文件：unzip -d 解压后目录文件 压缩文件
```

## 搜索查找类
#### 1、find 查找文件或者目录  
find 指令将从指定目录向下递归地遍历其各个子目录,将满足条件的文件显示在终端  
基本语法:
```
find [搜索范围] [选项]
```
| 选项            | 功能                             |
| --------------- | -------------------------------- |
| -name<查询方式> | 按照指定的文件名查找模式查找文件 |
| -user<用户名>   | 查找属于指定用户名所有文件       |
| -size<文件大小> | 按照指定的文件大小查找文件       |

常用用法：   
| 命令                        | 含义                                   |
| --------------------------- | -------------------------------------- |
| find ./ -name test.sh       | 查找当前目录下所有名为test.sh的文件    |
| find ./ -name '*.sh'        | 查找当前目录下所有后缀为.sh的文件      |
| find ./ -name "[A-Z]*"      | 查找当前目录下所有以大写字母开头的文件 |
| find  /tmp  -size   2M      | 查找在/tmp 目录下等于2M的文件          |
| find  /tmp  -size  +2M      | 查找在/tmp 目录下大于2M的文件          |
| find  /tmp  -size  -2M      | 查找在/tmp 目录下小于2M的文件          |
| find ./ -size +4k -size -5M | 查找当前目录下大于4k，小于5M的文件     |
| find ./ -perm 0777          | 查找当前目录下权限为 777 的文件或目录  |
| find / -user fred           | 查找在系统中属于fred这个用户的文件     | 

#### 2、grep 在文件内搜索字符串匹配的行并输出
Linux系统中grep命令是一种强大的文本搜索工具，grep允许对文本文件进行模式查找。如果找到匹配模式， grep打印包含模式的所有行。 
基本语法:
```
grep [-选项] ‘搜索内容串’文件名
```
在grep命令中输入字符串参数时，最好引号或双引号括起来。例如：grep‘a ’1.txt。

主要参数：  
－c：只输出匹配行的计数。  
－i：不区分大小写  
－h：查询多文件时不显示文件名。  
－l：查询多文件时只输出包含匹配字符的文件名。  
－n：显示匹配行及行号。  
－s：不显示不存在或无匹配文本的错误信息。  
－v：显示不包含匹配文本的所有行。  

例子：  
```
(1)grep 'test' d*　　#显示所有以d开头的文件中包含 test的行
(2)grep ‘test’ aa bb cc 　　 #显示在aa，bb，cc文件中包含test的行
(3)grep ‘[a-z]\{5\}’ aa 　　#显示所有包含每行字符串至少有5个连续小写字符的字符串的行
(4)grep magic /usr/src　　#显示/usr/src目录下的文件(不含子目录)包含magic的行
(5)grep -r magic /usr/src　　#显示/usr/src目录下的文件(包含子目录)包含magic的行
(6)grep -w pattern files ：只匹配整个单词，而不是字符串的一部分(如匹配’magic’，而是’magical’)，
```

#### 3、which 查看命令位置
基本语法:
```
which 命令    (功能描述:搜索命令所在目录及别名信息)
```

## 用户管理命令
#### 1、useradd 添加新用户
基本语法:
```
useradd 用户名     (功能描述:添加新用户)
useradd -g 组名 用户名   (功能描述:添加新用户到某个组)
```

#### 2、passwd 设置用户密码
基本语法:
```
passwd 用户名      (功能描述:设置用户密码)
```

#### 3、id 查看用户是否存在
基本语法:
```
id 用户名
```

#### 4、cat /etc/passwd 查看创建了哪些用户
基本语法:
```
cat /etc/passwd
```

#### 5、su 切换用户
su: swith user 切换用户  
基本语法:
```
su 用户名称     (功能描述:切换用户,只能获得用户的执行权限,不能获得环境变量)  
su - 用户名称   (功能描述:切换到用户并获得该用户的环境变量及执行权限)
```

#### 6、userdel 删除用户
基本语法:
```
(1)userdel 用户名      (功能描述:删除用户但保存用户主目录)
(2)userdel -r 用户名   (功能描述:用户和用户主目录,都删除)
```

#### 7、who 查看登录用户信息
基本语法:
```
(1)whoami   (功能描述:显示自身用户名称)
(2)who am i (功能描述:显示登录用户的用户名)
(3)who      (功能描述:看当前有哪些用户登录到了本台机器上)
```

#### 8、usermod 修改用户所在组
基本语法:
```
usermod -g 用户组 用户名
```

#### 9、sudo 设置普通用户具有 root 权限
修改 /etc/sudoers 文件,找到下面一行(91 行),在 root 下面添加一行,如下所示:
```
## Allow root to run any commands anywhere
root    ALL=(ALL)   ALL
atguigu ALL=(ALL)   ALL
```
或者配置成采用 sudo 命令时,不需要输入密码:
```
## Allow root to run any commands anywhere
root    ALL=(ALL)   ALL
atguigu ALL=(ALL)   NOPASSWD:ALL
```
修改完毕,现在可以用 atguigu 帐号登录,然后用命令 sudo ,即可获得 root 权限进行
操作。

## 用户组管理命令
用户组的管理涉及用户组的添加、删除和修改。组的增加、删除和修改实际上就是对/etc/group文件的更新。
#### 1、groupadd 新增组
基本语法:
```
groupadd 组名
```

#### 2、groupdel 删除组
基本语法:
```
groupdel 组名
```

#### 3、groupmod 修改组
基本语法:
```
groupmod -n 新组名 老组名
```

#### 4、cat /etc/group 查看创建了哪些组

## 文件权限类
#### 1、文件属性
在Linux中我们可以使用ll或者ls -l命令来显示一个文件的属性以及文件所属的用户和组。  

从左到右的10个字符表示:
![filemod](/assets/filemod.png)
```
如果没有权限,就会出现减号[ - ]而已。从左至右用0-9这些数字来表示:
(1)0 首位表示类型
    在Linux中第一个字符代表这个文件是目录、文件或链接文件等等
    - 代表文件
    d 代表目录
    l 链接文档(link file);
(2)第1-3位确定属主(该文件的所有者)拥有该文件的权限。---User
(3)第4-6位确定属组(所有者的同组用户)拥有该文件的权限,---Group
(4)第7-9位确定其他用户拥有该文件的权限 ---Other
```

rxw作用文件和目录的不同解释:
```
(1)作用到文件:
[ r ]代表可读(read): 可以读取,查看
[ w ]代表可写(write): 可以修改,但是不代表可以删除该文件,删除一个文件的前提条件是对该文件所在的目录有写权限,才能删除该文件.
[ x ]代表可执行(execute):可以被系统执行

(2)作用到目录:
[ r ]代表可读(read): 可以读取,ls查看目录内容
[ w ]代表可写(write): 可以修改,目录内创建+删除+重命名目录
[ x ]代表可执行(execute):可以进入该目录
```

#### 2、chmod 改变权限
```
第一种方式变更权限
chmod [{ugoa}{+-=}{rwx}] 文件或目录
第二种方式变更权限
chmod [mode=421 ] [文件或目录]
```
经验技巧:  
u:所有者   g:所有组   o:其他人   a:所有人(u、g、o 的总和)    
r=4 w=2 x=1     rwx=4+2+1=7   
-R 修改目录下的所有文件

例子：  
```
(1)修改文件使其所属主用户具有执行权限
[root@hadoop101 ~]# cp xiyou/dssz/houge.txt ./
[root@hadoop101 ~]# chmod u+x houge.txt
(2)修改文件使其所属组用户具有执行权限
[root@hadoop101 ~]# chmod g+x houge.txt
(3)修改文件所属主用户执行权限,并使其他用户具有执行权限
[root@hadoop101 ~]# chmod u-x,o+x houge.txt
(4)采用数字的方式,设置文件所有者、所属组、其他用户都具有可读可写可执行权限。
[root@hadoop101 ~]# chmod 777 houge.txt
(5)修改整个文件夹里面的所有文件的所有者、所属组、其他用户都具有可读可写可执行权限。
[root@hadoop101 ~]# chmod -R 777 xiyou/
```

#### 3、chown 改变所有者
```
chown [-R] [用户名] [文件或目录]
```

例子：  
```
(1)修改文件所有者
[root@hadoop101 ~]# chown atguigu houge.txt
(2)递归改变文件所有者和所有组
[root@hadoop101 xiyou]# chown -R atguigu:atguigu xiyou/
```

#### 4、chgrp 改变所属组
```
chgrp [用户组] [文件或目录]
```

## 进程线程类
#### 1、ps 查看当前系统进程状态
ps:process status 进程状态    
基本语法:   
```
ps –aux     (功能描述:查看系统中所有进程)
```
参数：  
-a ： 显示现行终端机下的所有进程，包括其他用户的进程；  
-u ：以用户为主的进程状态 ；  
-x ：通常与 a 这个参数一起使用，可列出较完整信息。  

#### 2、top 查看系统健康状态 
基本语法:   
```
top [选项]
```
选项:  
-d 秒数:指定 top 命令每隔几秒更新。默认是 3 秒在 top 命令的交互模式当中可以执行的命令:  
-i:使 top 不显示任何闲置或者僵死进程。  
-p:通过指定监控进程 ID 来仅仅监控某个进程的状态。  
-s : 使 top 命令在安全模式中运行。这将去除交互命令所带来的潜在危险。  

操作选项:  
P: 以 CPU 使用率排序,默认就是此项  
M: 以内存的使用率排序  
N: 以 PID 排序  
q: 退出 top  

#### 3、kill 终止进程
基本语法:   
```
kill [-9] pid     (功能描述:通过进程号杀死进程)
killall [-9] 进程名称 (功能描述:通过进程名称杀死进程,也支持通配符,这在系统因负载过大而变得很慢时很有用)
```
选项：  
-9 表示强迫进程立即停止

#### 4、netstat 显示网络统计信息
基本语法:   
```
netstat -anp     (功能描述:此命令用来显示整个系统目前的网络情况。例如目前的连接、数据包传递数据、或是路由表内容)
```
选项:   
-an 按一定顺序排列输出  
-p 表示显示哪个进程在调用  

```
查看端口50070的使用情况
[root@hadoop106 hadoop-2.7.2]# netstat -anp | grep 50070
```

#### 5、pstree 查看进程树
基本语法:   
```
pstree [选项]
```
选项:   
-p: 显示进程的 PID
-u: 显示进程的所属用户

## 后台服务管理类
#### 1、service 后台服务管理
基本语法:   
```
1)service network status 查看指定服务的状态
2)service network stop 停止指定服务
3)service network start 启动指定服务
4)service network restart 重启指定服务
5)service --status-all 查看系统中所有的后台服务
```

#### 2、chkconfig 设置后台服务的自启配置
基本语法:   
```
1)chkconfig 查看所有服务器自启配置
2)chkconfig iptables off 关掉指定服务的自动启动
3)chkconfig iptables on 开启指定服务的自动启动
```

















